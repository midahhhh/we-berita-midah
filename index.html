<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>News Website</title>

  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
  />
</head>
<body>
  <header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="#">News Info</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active"><a class="nav-link" href="#">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="#">World</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Technology</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Sports</a></li>
        </ul>
        <form class="form-inline my-2 my-lg-0">
          <input id="searchInput" class="form-control mr-sm-2" type="search" placeholder="Search news..." />
        </form>
      </div>
    </nav>
  </header>

  <main class="container my-4">
    <section class="row" id="news-container"></section>
  </main>

  <footer class="bg-dark text-white text-center py-4">
    <p>&copy; 2024 NewsSite | Contact: info@newssite.com</p>
    <div>
      <a href="#" class="text-white mx-2">Facebook</a>
      <a href="#" class="text-white mx-2">Twitter</a>
      <a href="#" class="text-white mx-2">Instagram</a>
    </div>
  </footer>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    const key = "208bf4b665c24b08a1719225f94220a4"; 
    const api = `https://newsapi.org/v2/top-headlines?country=us&pageSize=12&apiKey=${key}`;

    let allNews = [];
    const container = document.getElementById("news-container");

    function displayNews(newsArray) {
      container.innerHTML = "";
      newsArray.forEach((article) => {
        let col = document.createElement("div");
        col.className = "col-md-4 mb-4";

        col.innerHTML = `
          <div class="card h-100 shadow-sm">
            <img src="${article.urlToImage || 'https://via.placeholder.com/400x200'}" class="card-img-top" alt="News Image">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">${article.title || "No title"}</h5>
              <p class="text-muted">${new Date(article.publishedAt).toLocaleDateString()}</p>
              <p class="card-text">${article.description || "No description available."}</p>
              <a href="${article.url}" target="_blank" class="btn btn-primary mt-auto">Read More</a>
            </div>
          </div>`;
        container.appendChild(col);
      });
    }

    fetch(api)
      .then((response) => response.json())
      .then((data) => {
        if (data.articles && data.articles.length > 0) {
          allNews = data.articles;
          displayNews(allNews);
        } else {
          container.innerHTML = "<p class='col-12 text-center'>No news found.</p>";
        }
      })
      .catch((error) => {
        console.error("Error fetching news:", error);
        container.innerHTML =
          "<p class='col-12 text-center text-danger'>Failed to load news.</p>";
      });

    document.getElementById("searchInput").addEventListener("input", function () {
      let query = this.value.toLowerCase();
      let filtered = allNews.filter(
        (article) =>
          (article.title && article.title.toLowerCase().includes(query)) ||
          (article.description && article.description.toLowerCase().includes(query))
      );
      displayNews(filtered);
    });
  </script>
</body>
</html>
